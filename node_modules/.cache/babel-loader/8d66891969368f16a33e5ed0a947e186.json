{"ast":null,"code":"var _jsxFileName = \"E:\\\\Source Code\\\\React\\\\tokobuku\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport Login from \"./component/auth/Login\";\nimport HomePage from \"./component/HomePage\";\nimport NavBar from \"./component/NavBar\";\nimport About from \"./component/functional/About\";\nimport Detail from \"./component/functional/Detail\";\nimport KelasComp from \"./component/hooks/class/KelasComp\";\nimport HooksComp from \"./component/hooks/functional/HooksComp\";\nimport ListBuku from \"./component/buku/ListBuku\";\nimport TambahBuku from \"./component/buku/TambahBuku\";\nimport EditBuku from \"./component/buku/EditBuku\";\nimport HooksReducer from \"./component/hooks/functional/HooksReducer\";\nimport { BrowserRouter as Router, Routes, Route, Navigate } from \"react-router-dom\";\nimport { createContext, useReducer } from \"react\";\nimport jwtDecode from \"jwt-decode\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nwindow.api = \"https://dev.neoproject.info/restperpus\"; // window.api = \"http://localhost/restperpus\";\n\nwindow.apikey = \"123456789\";\nwindow.token = localStorage.getItem(\"token\"); // Context\n\nexport const AuthContext = /*#__PURE__*/createContext(); // Initial State\n\nconst initialState = {\n  isAuthenticated: false,\n  token: null,\n  token_expired: 0\n};\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case \"LOGIN\":\n      console.log(\"Username: \" + action.payload.result.username);\n      localStorage.setItem(\"isAuthenticated\", true);\n      localStorage.setItem(\"token\", action.payload.token);\n      console.log(jwtDecode(action.payload.token).exp);\n      return { ...state,\n        isAuthenticated: true,\n        token: action.payload.token,\n        token_expired: jwtDecode(action.payload.token).exp\n      };\n\n    case \"LOGOUT\":\n      localStorage.clear();\n      return { ...state,\n        isAuthenticated: false,\n        token: null\n      };\n\n    default:\n      return state;\n  }\n};\n\nfunction App() {\n  _s();\n\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const isAuthenticated = localStorage.getItem(\"isAuthenticated\");\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n      value: {\n        state,\n        dispatch\n      },\n      children: [isAuthenticated ? /*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 28\n      }, this) : \"\", /*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/\",\n          element: isAuthenticated ? /*#__PURE__*/_jsxDEV(HomePage, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 40\n          }, this) : /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 55\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), isAuthenticated ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            path: \"/about\",\n            exact: true,\n            element: /*#__PURE__*/_jsxDEV(About, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 51\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/detail/:id\",\n            exact: true,\n            element: /*#__PURE__*/_jsxDEV(Detail, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 56\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/buku/list\",\n            exact: true,\n            element: /*#__PURE__*/_jsxDEV(ListBuku, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 55\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/buku/tambah\",\n            exact: true,\n            element: /*#__PURE__*/_jsxDEV(TambahBuku, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 57\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/buku/edit\",\n            exact: true,\n            element: /*#__PURE__*/_jsxDEV(EditBuku, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 55\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/kelas\",\n            exact: true,\n            element: /*#__PURE__*/_jsxDEV(KelasComp, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 51\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/hooks\",\n            exact: true,\n            element: /*#__PURE__*/_jsxDEV(HooksComp, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 51\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/reducer\",\n            exact: true,\n            element: /*#__PURE__*/_jsxDEV(HooksReducer, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 53\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(Route, {\n          path: \"*\",\n          exact: true,\n          element: /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/\",\n            replace: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 44\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"6JWkGZ32UPfojeNx+xqn8ZU8A0Q=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["Login","HomePage","NavBar","About","Detail","KelasComp","HooksComp","ListBuku","TambahBuku","EditBuku","HooksReducer","BrowserRouter","Router","Routes","Route","Navigate","createContext","useReducer","jwtDecode","window","api","apikey","token","localStorage","getItem","AuthContext","initialState","isAuthenticated","token_expired","reducer","state","action","type","console","log","payload","result","username","setItem","exp","clear","App","dispatch"],"sources":["E:/Source Code/React/tokobuku/src/App.js"],"sourcesContent":["import Login from \"./component/auth/Login\";\r\nimport HomePage from \"./component/HomePage\";\r\nimport NavBar from \"./component/NavBar\";\r\nimport About from \"./component/functional/About\";\r\nimport Detail from \"./component/functional/Detail\";\r\nimport KelasComp from \"./component/hooks/class/KelasComp\";\r\nimport HooksComp from \"./component/hooks/functional/HooksComp\";\r\nimport ListBuku from \"./component/buku/ListBuku\";\r\nimport TambahBuku from \"./component/buku/TambahBuku\";\r\nimport EditBuku from \"./component/buku/EditBuku\";\r\nimport HooksReducer from \"./component/hooks/functional/HooksReducer\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Routes,\r\n  Route,\r\n  Navigate,\r\n} from \"react-router-dom\";\r\nimport { createContext, useReducer } from \"react\";\r\nimport jwtDecode from \"jwt-decode\";\r\n\r\nwindow.api = \"https://dev.neoproject.info/restperpus\";\r\n// window.api = \"http://localhost/restperpus\";\r\nwindow.apikey = \"123456789\";\r\nwindow.token = localStorage.getItem(\"token\");\r\n\r\n// Context\r\nexport const AuthContext = createContext();\r\n\r\n// Initial State\r\nconst initialState = {\r\n  isAuthenticated: false,\r\n  token: null,\r\n  token_expired: 0,\r\n};\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"LOGIN\":\r\n      console.log(\"Username: \" + action.payload.result.username);\r\n      localStorage.setItem(\"isAuthenticated\", true);\r\n      localStorage.setItem(\"token\", action.payload.token);\r\n      console.log(jwtDecode(action.payload.token).exp);\r\n      return {\r\n        ...state,\r\n        isAuthenticated: true,\r\n        token: action.payload.token,\r\n        token_expired: jwtDecode(action.payload.token).exp,\r\n      };\r\n    case \"LOGOUT\":\r\n      localStorage.clear();\r\n      return {\r\n        ...state,\r\n        isAuthenticated: false,\r\n        token: null,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nfunction App() {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n  const isAuthenticated = localStorage.getItem(\"isAuthenticated\");\r\n\r\n  return (\r\n    <Router>\r\n      <AuthContext.Provider\r\n        value={{\r\n          state,\r\n          dispatch,\r\n        }}\r\n      >\r\n        {isAuthenticated ? <NavBar /> : \"\"}\r\n        <Routes>\r\n          <Route\r\n            exact\r\n            path=\"/\"\r\n            element={isAuthenticated ? <HomePage /> : <Login />}\r\n          />\r\n          {/* <Route\r\n            exact\r\n            path=\"/home\"\r\n            element={\r\n              <>\r\n                <HomePage />\r\n              </>\r\n            }\r\n          /> */}\r\n          {isAuthenticated ? (\r\n            <>\r\n              <Route path=\"/about\" exact element={<About />}></Route>\r\n              <Route path=\"/detail/:id\" exact element={<Detail />}></Route>\r\n              <Route path=\"/buku/list\" exact element={<ListBuku />}></Route>\r\n              <Route path=\"/buku/tambah\" exact element={<TambahBuku />}></Route>\r\n              <Route path=\"/buku/edit\" exact element={<EditBuku />}></Route>\r\n              <Route path=\"/kelas\" exact element={<KelasComp />}></Route>\r\n              <Route path=\"/hooks\" exact element={<HooksComp />}></Route>\r\n              <Route path=\"/reducer\" exact element={<HooksReducer />}></Route>\r\n            </>\r\n          ) : (\r\n            <Route path=\"*\" exact element={<Navigate to=\"/\" replace />}></Route>\r\n          )}\r\n        </Routes>\r\n      </AuthContext.Provider>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}